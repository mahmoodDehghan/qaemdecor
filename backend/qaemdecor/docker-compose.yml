version: '3.9'

services: 
  db:
    image: postgres:13
    environment: 
      - POSTGRES_DB=postgres
      - POSTGRES_USER=mahmood
      - POSTGRES_PASSWORD=1234mdm
    volumes: 
      - ./data/db:/var/lib/postgresql/data
      
  web:
    build: .
    command: python manage.py runserver 0.0.0.0:8000
    environment: 
      - SECRET_KEY=testsecretkey
      - DEBUG=1
      - POSTGRES_DB=postgres
      - POSTGRES_USER=mahmood
      - POSTGRES_PASSWORD=1234mdm
      - ENVIRONMENT=development
      - OIDC_RSA_PRIVATE_KEY=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
        
    volumes: 
      - .:/code
    ports: 
      - 8000:8000
    depends_on: 
      - db    